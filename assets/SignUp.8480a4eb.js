import{_ as B,P as F,Q as K,o as G,c as N,R as Q,T as Z,U as j,p as s,t as w,H as b,M as k,z as $,A as ee}from"./index.210d9260.js";import{_ as se,a as te}from"./facebook.3ad5400a.js";import{g as oe}from"./google.40b4dfe7.js";const ie={name:"VueCanvas",props:{imgStarHolderSrc:String},data(){return{scr:F,myp5:{}}},methods:{buildSketch(t){this.myp5=new K(function(e){let a=2,r=new Array(a),i,n=.005,o=1,p=50,h=!1,V=1080/10,C=1160/10,v=0,y=1,I=45,R=.05,H=300,S=300,M=55,P=1,f={r:255,g:0,b:0},T=0,A,D;const q=1,X=2;let W,g;e.windowResized=()=>{e.resizeCanvas(e.windowWidth/2,e.windowHeight),e.redraw(),g=e.createGraphics(e.windowWidth/2,e.windowHeight),g.position(0,0),g.style("z-index",2),g.noStroke(),H=e.windowWidth/4,S=e.windowWidth/4},e.setup=d=>{let l=e.createCanvas(e.windowWidth/2,e.windowHeight);l.parent("vue-canvas"),l.position(0,0),l.style("z-index",-2),e.imgLOGO=e.loadImage(t.imgStarHolderSrc),e.imgMoonBg=e.loadImage(t.imgStarHolderSrc),W=e.loadImage(t.imgStarHolderSrc),i=e.height*.5,e.background(255);for(let u=0;u<r.length;u++)r[u]=e.PI;g=e.createGraphics(e.width,e.height),g.position(0,0),g.style("z-index",2),g.noStroke(),H=e.width/2,S=e.height/4,A=e.color(0,2,53,40),D=e.color(0,2,53,40)};function L(){T=e.frameCount*.02}function J(d){L(),d.push(),f.r=e.random(200,255),f.g=e.random(200,255),f.b=e.random(200,250);var l=H+e.cos(I)*M*2*P/2,u=S+e.sin(I)/2*M*P/2;d.fill(f.r,f.g,f.b),d.noStroke(),d.ellipse(l,u,2,1),I+=R,S+=.1,P=2+e.cos(T/(2*e.PI)),d.pop(),e.image(d,0,0)}function Y(d,l,u,m,z,E,O){if(e.noFill(),O===q)for(let c=l;c<=l+m;c++){let x=e.map(c,l,l+m,0,1),U=e.lerpColor(z,E,x);e.stroke(U),e.line(d,c,d+u,c)}else if(O===X)for(let c=d;c<=d+u;c++){let x=e.map(c,d,d+u,0,1),U=e.lerpColor(z,E,x);e.stroke(U),e.line(c,l,c,l+m)}}e.mouseWheel=d=>{v+=d.delta*.5,y=e.cos(v*.1/(2*e.PI))},e.keyReleased=()=>{key==" "&&(h=!h,e.background(255))},e.draw=d=>{h||(Y(0,0,e.width,e.height,A,D,1),e.push(),e.pop(),e.stroke(0,255,0),e.fill(0,255,0)),J(g),e.push(),e.translate(e.width/2,e.height/4),v<0?e.ellipse(0,0,200,200):(e.fill(0,255,0,255-v*.6),e.noStroke(),e.ellipse(0,v,200*y,200*y)),e.image(W,-(V/2)+5,-(C/2)+C/4*3,V,C);for(let l=0;l<r.length;l++){let u=0;h&&(e.stroke(0,0,255*(e.float(l)/r.length),p),e.fill(0,0,255,p/2),u=5*(1-e.float(l)/r.length));let m=i/(l+1);e.rotate(r[l]),h||(e.noFill(),e.stroke(255),e.ellipse(0,0,m*1.2,m*2),e.fill(0,255,0)),e.push(),e.translate(0,m),h||(e.noStroke(),e.ellipse(0,0,15,15)),h&&e.ellipse(0,0,u,u),e.pop(),e.translate(0,m),r[l]=(r[l]+(n+n*l*o))%e.TWO_PI}e.pop()}})}},mounted(){this.buildSketch(this.$props)}},le={id:"vue-canvas"};function re(t,e,a,r,i,n){return G(),N("div",le)}const ne=B(ie,[["render",re],["__scopeId","data-v-c14ca6ec"]]);const ae={data(){return{sketchData:{imgStarHolderSrc:F,src2:Q},message:"\u9001\u51FA\u9A57\u8B49\u78BC",msg1:"\u8A3B\u518A",remsg:"",retime:"",reMsgg:"",resingupmsg:"",resingupmsg1:"",user:{username:{value:"",msg:""},password:{value:"",msg:""},repassword:{value:"",msg:""},code:{value:"",msg:""}},submitDisabled:!0}},components:{SketchMain:ne},methods:{nativeValidate(t,e){let a=Z(t.username.value),r=j(t.password.value),i=j(t.repassword.value);const n=[a,r,i];switch(e){case"username":a==!0?t.username.msg="":t.username.msg="Email\u683C\u5F0F\u932F\u8AA4\u6216\u672A\u8F38\u5165";break;case"password":r==!0?t.password.msg="":t.password.msg="\u5BC6\u78BC\u683C\u5F0F\u932F\u8AA4\u6216\u672A\u8F38\u5165(\u5B57\u6BCD\u958B\u982D\u542B\u6578\u5B57\u30016~18\u78BC)";break;case"repassword":i==!0?t.repassword.msg="":t.repassword.msg="\u5BC6\u78BC\u683C\u5F0F\u932F\u8AA4\u6216\u672A\u8F38\u5165(\u5B57\u6BCD\u958B\u982D\u542B\u6578\u5B57\u30016~18\u78BC)";break}let o=n.find(p=>p==!1);o==null?this.submitDisabled=!1:this.submitDisabled=!0,console.log("form: ",n,o)},nativeSubmit(){if(this.submitDisabled)console.log("\u8A3B\u518A\u5931\u6557");else if(this.user.password.value==this.user.repassword.value){let t=this.user.username.value,e=this.user.password.value,a=this.user.code.value;console.log(t),console.log(e),fetch("https://astria.sutsanyuan.com/Astria_api/FirstSignUp",{method:"POST",headers:{"Content-Type":"application/json;charset =utf-8"},body:JSON.stringify({Email:t,Password:e,Code:a})}).then(function(r){return r.json()}).then(r=>{console.log(r),this.resingupmsg=r.Status,this.resingupmsg1=r.Msg,this.resingupmsg=="1"&&(localStorage.setItem("myemail",`${this.user.username.value}`),localStorage.setItem("mymsg",`${this.resingupmsg1}`),this.$router.push("/signUpForm"),console.log("\u8A3B\u518A\u6210\u529F"))}).catch(function(r){console.log(r)})}},onChange(){let t=this.user.username.value,e=this.user.password.value;console.log(t),console.log(e),fetch("https://astria.sutsanyuan.com/Astria_api/CreateVCode",{method:"POST",headers:{"Content-Type":"application/json;charset =utf-8"},body:JSON.stringify({Email:t,Password:e})}).then(function(a){return a.json()}).then(a=>{console.log(a),this.remsg=a.Status,this.retime=a.RemainingSec,this.reMsgg=a.Msg,this.remsg=="1"&&this.reMsgg=="\u5E33\u865F\u5B58\u5728"?this.message="\u5E33\u865F\u5DF2\u5B58\u5728":this.remsg=="1"?this.message="\u5DF2\u50B3\u9001\u9A57\u8B49\u78BC":this.submitDisabled==!0?this.message="\u8F38\u5165\u683C\u5F0F\u4E0D\u7B26":this.remsg=="2"&&(this.message=`\u5DF2\u9001\u51FA\u9A57\u8B49\u78BC(\u8ACB\u65BC${this.retime}\u79D2\u5F8C\u518D\u9EDE\u64CA)`)}).catch(function(a){console.log(a)})},fbsingup(){this.$router.push("/")},googlesingup(){this.$router.push("/")},loginTo(){this.$router.push("/logIn")}}},_=t=>($("data-v-6befc647"),t=t(),ee(),t),de={class:"BG"},ue={class:"container-xl my-5"},ce={class:"singup-containt"},ge={class:"row justify-content-between align-items-center"},me=_(()=>s("div",{class:"col-12 col-lg-4"},[s("div",{class:"card pic"},[s("img",{src:se,alt:"logo"})])],-1)),he={class:"col-12 col-lg-7"},_e={class:"card singup-form"},fe={class:"el-form-item__error"},ve={class:"el-form-item__error"},we={class:"el-form-item__error"},pe={class:"d-flex login-bottom-containt"},Se=["disabled"],be=_(()=>s("h5",null,"\u8A3B\u518A",-1)),ke=[be],Ce={class:"d-flex txt"},ye={class:"sign-up d-flex justify-content-between"},Ie=_(()=>s("span",{class:"h5 m-4"},"\u5DF2\u7D93\u662F\u6703\u54E1",-1)),He={class:"outlink"},Pe=_(()=>s("hr",null,null,-1)),xe=_(()=>s("p",null,[s("span",null,"\u6216\u8ACB\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u767B\u5165")],-1)),Ue={class:"d-flex img-d"},Ve=_(()=>s("img",{src:oe,alt:"google"},null,-1)),Me=[Ve],Te=_(()=>s("img",{src:te,alt:"facebook"},null,-1)),Ae=[Te];function De(t,e,a,r,i,n){return G(),N("div",de,[s("div",ue,[s("div",ce,[s("div",ge,[me,s("div",he,[s("div",_e,[s("h2",null,w(i.msg1),1),b(s("input",{required:"",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>i.user.username.value=o),placeholder:"EMAIL",onChange:e[1]||(e[1]=o=>n.nativeValidate(i.user,"username")),autofocus:""},null,544),[[k,i.user.username.value]]),s("div",fe,w(i.user.username.msg),1),b(s("input",{required:"",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>i.user.password.value=o),onChange:e[3]||(e[3]=o=>n.nativeValidate(i.user,"password")),placeholder:"\u5BC6\u78BC(\u5B57\u6BCD\u958B\u982D\u542B\u6578\u5B57\u30016~18\u78BC)"},null,544),[[k,i.user.password.value]]),s("div",ve,w(i.user.password.msg),1),b(s("input",{required:"",type:"password","onUpdate:modelValue":e[4]||(e[4]=o=>i.user.repassword.value=o),onChange:e[5]||(e[5]=o=>n.nativeValidate(i.user,"repassword")),placeholder:"\u5BC6\u78BC\u78BA\u8A8D(\u5B57\u6BCD\u958B\u982D\u542B\u6578\u5B57\u30016~18\u78BC)"},null,544),[[k,i.user.repassword.value]]),s("div",we,w(i.user.repassword.msg),1),s("div",pe,[s("button",{class:"singupcode-submit m-2",onClick:e[6]||(e[6]=(...o)=>n.onChange&&n.onChange(...o))},[s("h5",null,w(i.message),1)]),b(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=o=>i.user.code.value=o),placeholder:"\u8F38\u5165\u9A57\u8B49\u78BC",required:""},null,512),[[k,i.user.code.value]]),s("button",{class:"singup-submit m-2",onClick:e[8]||(e[8]=(...o)=>n.nativeSubmit&&n.nativeSubmit(...o)),disabled:t.status},ke,8,Se)]),s("div",Ce,[s("div",ye,[Ie,s("span",{class:"t1 h5 m-4",onClick:e[9]||(e[9]=(...o)=>n.loginTo&&n.loginTo(...o))},"\u7ACB\u5373\u767B\u5165")]),s("div",He,[Pe,xe,s("div",Ue,[s("div",{class:"image",onClick:e[10]||(e[10]=(...o)=>n.fbsingup&&n.fbsingup(...o))},Me),s("div",{class:"image",onClick:e[11]||(e[11]=(...o)=>n.googlesingup&&n.googlesingup(...o))},Ae)])])])])])])])])])}const Oe=B(ae,[["render",De],["__scopeId","data-v-6befc647"]]);export{Oe as default};
